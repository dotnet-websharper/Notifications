import { Start as fK } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fL, MarkResizable as fM, SetOptional as fN, Force as fO, GetOptional as fP, CreateFuncWithArgs as fQ, DeleteEmptyFields as fR, Create as fS, OnLoad as fT } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fU){ return"Dispose"in fU;}
function b(){ const fU=c().View;const fV=new n("New_1");const fW=(fV.h.push(new E("status", fU)),fV);const fX=(fW.h.push(p(fW.k, "requestnotification", () => fW.i, () => { const f2=null;M(J(() => K(U(d()), () => L(null))), null);})),fW);const fY=q(fX.k, fX.h, []);const fZ=new i(fY[1], C(fY[0]));let f0=(fX.i=fZ,fZ);const f1=f0.Doc;Y("");bf.RunById("main", f1);}
function c(){ return G.status;}
function d(){ const fU=null;return new Promise((fV) => { fV(new Promise((fW) => { fW(Notification.requestPermission().then((fX) => { let fY;return fX=="granted"?(c().Set("Notifications sent!"),new Notification("Hello! Notifications are enabled.", (fY={},fY.body="This is a test notification.",fY)),Promise.resolve(null)):(c().Set("Notifications denied!"),Promise.resolve(null));}));})["catch"]((fW) => { const fX=V(fW);c().Set(String(fX.message));return Promise.resolve(null);}));});}
function e(fU){ throw new Error(fU);}
function f(fU){ return[fU.K, fU.V];}
function g(fU, fV){ const fW=1+fV-fU;return fW<=0?[]:bx(fW, (fX) => fX+fU);}
let h=fL((fU) => class fV { static { h=fU(this);} Equals(fW){ return this===fW;} GetHashCode(){ return -1;} });
let i=fL((fU) => class fV extends h { static { i=fU(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fW){ this.anchorRoot=fW;} constructor(fW, fX){ super();this.doc=fX;this.allVars=fW.$==0?fW.$0:e("Should not happen");this.anchorRoot=null;} });
function j(fU, fV){ l(fU, fV);return fU[fV];}
function k(fU, fV, fW){ l(fU, fV);fU[fV]=fW;}
function l(fU, fV){ if(fV<0||fV>=fU.length)e("Index was outside the bounds of the array.");}
function m(fU){ return fU.dims===2?fU.length*fU.length:fU.length;}
let n=fL((fU) => class fV extends h { static { n=fU(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(fW){ if(fW=="New_1"){ let fX;super();this.i=null;this.k=(fX=F(),String(fX));this.h=fM([]);fN(this, "s", null);} } });
let o=fL((fU) => class fV extends h { static { o=fU(this);} });
function p(fU, fV, fW, fX){ return new H(fV, (fY) =>(fZ) => { const f0=fW();f0.SetAnchorRoot(fY);return fX({Vars:f0, Anchors:f0, Target:fY, Event:fZ});});}
function q(fU, fV, fW){ const fX=new bg("New_5");const fY=new bn("New_3");const fZ=cw(fV);try { while(fZ.MoveNext()){ const f0=fZ.Current;const f1=f0.Name;fY.SAdd(f1);fX.set_Item(f1, f0);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} return[bo(fV, bD((f2) => { const f3=f2[0];const f4=f2[1];const f5=f2[2];if(fY.Contains(f3))return null;else { const f6=f4===0?bS.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:X(f5.$0);let f8=bh.Create_1(f7==null?"":f7.$0);return new bT(f3, f8);}):f4===1?bS.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:X(f5.$0);let f8=bh.Create_1(f7==null?0:f7.$0);return new bU(f3, f8);}):f4===2?bS.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:X(f5.$0);let f8=bh.Create_1(f7==null?false:f7.$0);return new bV(f3, f8);}):f4===3?bS.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:X(f5.$0);let f8=bh.Create_1(f7==null?-8640000000000000:f7.$0);return new bW(f3, f8);}):f4===4?bS.GetOrAddHoleFor(fU, f3, () => new bX(f3, bh.Create_1([]))):f4===5?bS.GetOrAddHoleFor(fU, f3, () => new bY(f3, bh.Create_1(X(globalThis.document.querySelector("[ws-dom="+f3+"]"))))):f4===6?bS.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:X(f5.$0);let f8=bh.Create_1(f7==null?[]:f7.$0);return new b0(f3, f8);}):e("Invalid value type");fX.set_Item(f3, f6);return X(f6);} }, fW)), {$:0, $0:fX}];}
function r(fU, fV){ if(fU===fV)return true;else { const fW=typeof fU;if(fW=="object"){ if(fU===null||fU===void 0||fV===null||fV===void 0||!r(typeof fV, "object"))return false;else if("Equals"in fU)return fU.Equals(fV);else if("Equals"in fV)return false;else if(fU instanceof Array&&fV instanceof Array)return s(fU, fV);else if(fU instanceof Date&&fV instanceof Date)return t(fU, fV);else { const fX=[true];let fY;for(var f0 in fU)if(((f1) => { fX[0]=!fU.hasOwnProperty(f1)||fV.hasOwnProperty(f1)&&r(fU[f1], fV[f1]);return!fX[0];})(f0))break;if(fX[0]){ let fZ;for(var f1 in fV)if(((f2) => { fX[0]=!fV.hasOwnProperty(f2)||fU.hasOwnProperty(f2);return!fX[0];})(f1))break;} return fX[0];} } else return fW=="function"&&("$Func"in fU?fU.$Func===fV.$Func&&fU.$Target===fV.$Target:"$Invokes"in fU&&"$Invokes"in fV&&s(fU.$Invokes, fV.$Invokes));} }
function s(fU, fV){ let fW;let fX;if(m(fU)===m(fV)){ fW=true;fX=0;while(fW&&fX<m(fU)){!r(j(fU, fX), j(fV, fX))?fW=false:void 0;fX=fX+1;} return fW;} else return false;}
function t(fU, fV){ return fU.getTime()===fV.getTime();}
function u(fU){ const fV=typeof fU;return fV=="function"?0:fV=="boolean"?fU?1:0:fV=="number"?fU:fV=="string"?v(fU):fV=="object"?fU==null?0:fU instanceof Array?w(fU):x(fU):0;}
function v(fU){ let fV;if(fU===null)return 0;else { fV=5381;for(let fW=0, fX=fU.length-1;fW<=fX;fW++)fV=y(fV, fU[fW].charCodeAt());return fV;} }
function w(fU){ let fV=-34948909;for(let fW=0, fX=m(fU)-1;fW<=fX;fW++)fV=y(fV, u(j(fU, fW)));return fV;}
function x(fU){ if("GetHashCode"in fU)return fU.GetHashCode();else { const fV=[0];let fW;for(var fX in fU)if(((fY) => { fV[0]=y(y(fV[0], v(fY)), u(fU[fY]));return false;})(fX))break;return fV[0];} }
function y(fU, fV){ return(fU<<5)+fU+fV;}
function z(fU, fV){ if(fU===fV)return 0;else { const fW=typeof fU;switch(fW=="function"?1:fW=="boolean"?2:fW=="number"?2:fW=="string"?2:fW=="object"?3:0){ case 0:return typeof fV=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fU<fV?-1:1;case 3:if(fU===null)return -1;else if(fV===null)return 1;else if("CompareTo"in fU)return fU.CompareTo(fV);else if("CompareTo0"in fU)return fU.CompareTo0(fV);else if(fU instanceof Array&&fV instanceof Array)return A(fU, fV);else if(fU instanceof Date&&fV instanceof Date)return B(fU, fV);else { const fX=[0];let fY;for(var f0 in fU)if(((f1) =>!fU.hasOwnProperty(f1)?false:!fV.hasOwnProperty(f1)?(fX[0]=1,true):(fX[0]=z(fU[f1], fV[f1]),fX[0]!==0))(f0))break;if(fX[0]===0){ let fZ;for(var f1 in fV)if(((f2) =>!fV.hasOwnProperty(f2)?false:!fU.hasOwnProperty(f2)&&(fX[0]=-1,true))(f1))break;} return fX[0];} break;} } }
function A(fU, fV){ let fW;let fX;if(m(fU)<m(fV))return -1;else if(m(fU)>m(fV))return 1;else { fW=0;fX=0;while(fW===0&&fX<m(fU)){ fW=z(j(fU, fX), j(fV, fX));fX=fX+1;} return fW;} }
function B(fU, fV){ return z(fU.getTime(), fV.getTime());}
function C(fU){ Y("index");return fU?Z("index", X("main"), fU):void 0;}
let D=fL((fU) => class fV extends h { static { D=fU(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fW, fX){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ei("");} });
let E=fL((fU) => { fO(D);return class fV extends D { static { E=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(this.fillWith);} get AsChoiceView(){ return ej(this.fillWith);} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
function F(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fU) => { const fV=Math.random()*16|0;const fW=fU=="x"?fV:fV&3|8;return fW.toString(16);});}
let G=fL((fU) => class fV { static { G=fU(this);} static status;static { this.status=bh.Create_1("");} });
let H=fL((fU) => { fO(D);return class fV extends D { static { H=fU(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
function I(fU){ const fV={};const fW=cw(fU);try { while(fW.MoveNext()){ const fX=fW.Current;fV[fX[0]]=fX[1];} } finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} return fV;}
function J(fU){ return(fV) => { try {(fU())(fV);} catch(fW){ fV.k(bj(fW));} };}
function K(fU, fV){ return N((fW) => { fU(bi((fX) => { if(fX.$==0){ const fY=fX.$0;R().Fork(() => { try {(fV(fY))(fW);} catch(fZ){ fW.k(bj(fZ));} });} else R().Fork(() => { fW.k(fX);});}, fW.ct));});}
function L(fU){ return(fV) => { fV.k(bk(fU));};}
function M(fU, fV){ const fW=(O())[0];const fX=fV==null?fW:fV.$0;R().Fork(() => { if(!fX.c)fU(bi((fY) => { if(fY.$==1)P(fY.$0);}, fX));});}
function N(fU){ return(fV) => { if(fV.ct.c)Q(fV);else fU(fV);};}
function O(){ return cu.defCTS;}
function P(fU){ console.log("WebSharper: Uncaught asynchronous exception", fU);}
function Q(fU){ fU.k(bl(new c3("New", fU.ct)));}
function R(){ return cu.scheduler;}
function S(fU){ return(fV) => { const fW=[false];const fX=(fY) => { if(fW[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { fW[0]=true;R().Fork(fY);} };fU((fY) => { fX(() => { fV.k(bk(fY));});}, (fY) => { fX(() => { fV.k(bj(fY));});}, (fY) => { fX(() => { fV.k(bl(fY));});});};}
function T(){ return cu.Zero;}
function U(fU){ return S((fV, fW) => { fU.then(fV, (fX) => fW(V(fX)));});}
function V(fU){ return fU instanceof Error?fU:new ct(fU);}
let W=fL((fU) => class fV extends h { static { W=fU(this);} });
function X(fU){ return{$:1, $0:fU};}
function Y(fU){!u0030()?(u0031(true),u0032(globalThis.document.body, "")):void 0;u0033().set_Item(fU, u0034(""));}
function Z(fU, fV, fW){ let fX;const fY=(fX=null,[u0034(fU).TryGetValue(fV==null?"":fV.$0, {get:() => fX, set:(fZ) => { fX=fZ;}}), fX]);return fY[0]?u0035(fY[1].cloneNode(true), fW):(console.warn("Local template doesn't exist", fV),bf.Empty);}
function u0030(){ return cB.LocalTemplatesLoaded;}
function u0031(fU){ cB.LocalTemplatesLoaded=fU;}
function u0032(fU, fV){ const fW=u0034(fV);const fX=new bg("New_5");const fY=fU.querySelectorAll("[ws-template]");for(let f_=0, f$=fY.length-1;f_<=f$;f_++){ const fZ=fY[f_];const f0=fZ.getAttribute("ws-template").toLowerCase();fZ.removeAttribute("ws-template");fX.set_Item(f0, u0036(fZ));} const f1=fU.querySelectorAll("[ws-children-template]");for(let ga=0, gb=f1.length-1;ga<=gb;ga++){ const f2=f1[ga];const f3=f2.getAttribute("ws-children-template").toLowerCase();f2.removeAttribute("ws-children-template");fX.set_Item(f3, u0037(f2));} const f4=fU.querySelectorAll("template[id]");for(let gc=0, gd=f4.length-1;gc<=gd;gc++){ const f5=f4[gc];fX.set_Item(f5.getAttribute("id").toLowerCase(), u0038(f5));} const f6=fU.querySelectorAll("template[name]");for(let ge=0, gf=f6.length-1;ge<=gf;ge++){ const f7=f6[ge];fX.set_Item(f7.getAttribute("name").toLowerCase(), u0038(f7));} const f8=new bn("New_3");function f9(gg){ if(!fW.ContainsKey(gg)){ let gh;const gi=(gh=null,[fX.TryGetValue(gg, {get:() => gh, set:(gj) => { gh=gj;}}), gh]);if(gi[0]){ f8.SAdd(gg);fX.RemoveKey(gg);u0039(fV, X(gg), gi[1], X(f9));} else console.warn(f8.Contains(gg)?"Encountered loop when instantiating "+gg:"Local template does not exist: "+gg);} } while(fX.count>0)f9(bp(fX.Keys));}
function u0033(){ return cB.LoadedTemplates;}
function u0034(fU){ let fV;const fW=(fV=null,[u0033().TryGetValue(fU, {get:() => fV, set:(fY) => { fV=fY;}}), fV]);if(fW[0])return fW[1];else { const fX=new bg("New_5");u0033().set_Item(fU, fX);return fX;} }
function u0035(fU, fV){ let fW;const fX=$(fU, bo(fV, ba().Values));const fY=fX[1];const fZ=fX[0];const f0=fZ.Els;return!r(f0, null)&&f0.length===1&&(j(f0, 0)instanceof Node&&(r(j(f0, 0).nodeType, Node.ELEMENT_NODE)&&(fW=j(f0, 0),true)))?c5.TreeNode(fZ, fY):bf.Mk(b1(fZ), fY);}
function u0036(fU){ fU.removeAttribute("ws-template");const fV=fU.getAttribute("ws-replace");if(fV==null){ } else { fU.removeAttribute("ws-replace");const fW=fU.parentNode;if(r(fW, null)){ } else { const fX=globalThis.document.createElement(fU.tagName);fX.setAttribute("ws-replace", fV);fW.replaceChild(fX, fU);} } const fY=globalThis.document.createElement("div");fY.appendChild(fU);return fY;}
function u0037(fU){ const fV=globalThis.document.createElement("div");while(fU.hasChildNodes())fV.appendChild(fU.firstChild);return fV;}
function u0038(fU){ const fV=globalThis.document.createElement("div");const fW=fU.content;for(let fX=0, fY=fW.childNodes.length-1;fX<=fY;fX++)fV.appendChild(fW.childNodes[fX].cloneNode(true));return fV;}
function u0039(fU, fV, fW, fX){ const fY=new bn("New_3");function fZ(f6, f7){ while(true)switch(f6){ case 0:if(f7!==null){ const f8=f7.nextSibling;if(r(f7.nodeType, Node.TEXT_NODE))dc(f7);else if(r(f7.nodeType, Node.ELEMENT_NODE))f1(f7);f7=f8;} else return null;break;case 1:const f9=dk(f7.nodeName, X(3), null).toLowerCase();const f_=f9.indexOf(".");const f$=f_===-1?[fU, f9]:[dk(f9, null, X(f_-1)), dk(f9, X(f_+1), null)];const ga=f$[1];const gb=f$[0];if(gb!=""&&!u0033().ContainsKey(gb))return dd(ga);else { if(gb==""&&fX!=null)fX.$0(ga);const gc=u0033().Item(gb);if(!gc.ContainsKey(ga))return dd(ga);else { const gd=gc.Item(ga);const ge=gd.cloneNode(true);const gf=new bn("New_3");const gg=new bg("New_5");const gh=f7.attributes;for(let gr=0, gs=gh.length-1;gr<=gs;gr++){ const gi=gh.item(gr).name.toLowerCase();const gj=gh.item(gr).nodeValue;let gk=gj==""?gi:gj.toLowerCase();gg.set_Item(gi, gk);if(!gf.SAdd(gi))console.warn("Hole mapped twice", gi);} for(let gt=0, gu=f7.childNodes.length-1;gt<=gu;gt++){ const gl=f7.childNodes[gt];if(r(gl.nodeType, Node.ELEMENT_NODE))if(!gf.SAdd(gl.nodeName.toLowerCase()))console.warn("Hole filled twice", ga);} const gm=f7.childNodes.length===1&&r(f7.firstChild.nodeType, Node.TEXT_NODE);if(gm){ const gn=de(ge, f7.firstChild.textContent, ga);const go=((gv) =>(gw) => gv.SAdd(gw))(gf);let gp=((gv) =>(gw) => { if(gw!=null)gv(gw.$0);})((gv) => { go(gv);});gp(gn);} df(ge, gf);if(!gm){ for(let gv=0, gw=f7.childNodes.length-1;gv<=gw;gv++){ const gq=f7.childNodes[gv];if(r(gq.nodeType, Node.ELEMENT_NODE))if(gq.hasAttributes())dg(ge, gq);else f0(ge, gq);} } dh(ge, gg);di(ge, f7.parentNode, f7);f7.parentNode.removeChild(f7);return;} } break;} } function f0(f6, f7){ const f8=f7.nodeName.toLowerCase();const f9=(gb, gc) => { if(f8=="title"&&f7.hasChildNodes()){ const gd=dl(f7.textContent);f7.removeChild(f7.firstChild);while(gd.hasChildNodes())f7.appendChild(gd.firstChild);} f1(f7);return di(f7, gb, gc);};bb(f6, "[ws-attr-holes]", (gb) => { const gc=em(gb.getAttribute("ws-attr-holes"), [" "], 1);for(let gg=0, gh=gc.length-1;gg<=gh;gg++){ const gd=j(gc, gg);let ge=new RegExp("\\${"+f8+"}", "ig");let gf=gb.getAttribute(gd).replace(ge, f7.textContent);gb.setAttribute(gd, gf);} });const f_=f6.querySelector("[ws-hole="+f8+"]");if(r(f_, null)){ const f$=f6.querySelector("[ws-replace="+f8+"]");if(r(f$, null)){ const ga=f6.querySelector("slot[name="+f8+"]");return f6.tagName.toLowerCase()=="template"?(f9(ga.parentNode, ga),void ga.parentNode.removeChild(ga)):null;} else { f9(f$.parentNode, f$);f$.parentNode.removeChild(f$);return;} } else { while(f_.hasChildNodes())f_.removeChild(f_.lastChild);f_.removeAttribute("ws-hole");return f9(f_, null);} } function f1(f6){ if(!f6.hasAttribute("ws-preserve"))if(en(f6.nodeName.toLowerCase(), "ws-"))f3(f6);else { dj(f6);f2(f6.firstChild);} } function f2(f6){ return fZ(0, f6);} function f3(f6){ return fZ(1, f6);} function f4(f6){ while(true){ const f7=f6.querySelector("[ws-template]");if(r(f7, null)){ const f8=f6.querySelector("[ws-children-template]");if(r(f8, null)){ const f9=f6.querySelectorAll("template[id]");for(let gd=1, ge=f9.length-1;gd<=ge;gd++){ const f_=f9[gd];if(fY.Contains(f_)){ } else { u0039(fU, X(f_.getAttribute("id")), f_, null);fY.SAdd(f_);} } const f$=f6.querySelectorAll("template[name]");for(let gf=1, gg=f$.length-1;gf<=gg;gf++){ const ga=f$[gf];if(fY.Contains(ga)){ } else { u0039(fU, X(ga.getAttribute("name")), ga, null);fY.SAdd(ga);} } return null;} else { const gb=f8.getAttribute("ws-children-template");f8.removeAttribute("ws-children-template");u0039(fU, X(gb), f8, null);f6=f6;} } else { const gc=f7.getAttribute("ws-template");(bc(fU, X(gc), f7))(null);f6=f6;} } } const f5=(fV==null?"":fV.$0).toLowerCase();u0034(fU).set_Item(f5, fW);if(fW.hasChildNodes()){ f4(fW);f2(fW.firstChild);} }
function $(fU, fV){ let fW;const fX=[];const fY=[];const fZ=[];const f0=[];const f1=new bg("New_5");const f2=cw(fV);try { while(f2.MoveNext()){ const f3=f2.Current;f1.set_Item(f3.Name, f3);} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} let f4=dm(fU);const f5=(gc, gd) => { const ge=dL(gc, gd);fY.push(dM(ge));fZ.push([gc, ge]);const gf=fP(ge.OnAfterRender);if(gf==null)return null;else { const gg=gf.$0;f0.push(() => { gg(gc);});return;} };const f6=(gc) => { let gd;const ge=(gd=null,[f1.TryGetValue(gc, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(ge[0]){ const gf=ge[1];if(gf instanceof d2)return X(gf.Value);else if(gf instanceof d3)return X(bf.TextNode(gf.Value));else { const gg=gf.ForTextView();return gg==null?null:X(bf.TextView(gg.$0));} } else return null;};bb(fU, "[ws-hole]", (gc) => { const gd=gc.getAttribute("ws-hole");gc.removeAttribute("ws-hole");while(gc.hasChildNodes())gc.removeChild(gc.lastChild);const ge=f6(gd);if(ge!=null&&ge.$==1){ const gf=ge.$0;cC(gc, gf.docNode);fX.push(cW.New(dN(gc), gf.docNode, null, gc, cX(), null));fY.push(gf.updates);} });bb(fU, "[ws-replace]", (gc) => { const gd=f6(gc.getAttribute("ws-replace"));if(gd!=null&&gd.$==1){ const ge=gd.$0;const gf=gc.parentNode;const gg=globalThis.document.createTextNode("");gf.replaceChild(gg, gc);const gh=cH(gg, ge.docNode);f4=dm(fU);const gi=bE((gj) => gc===gj, f4);if(gi==null){ } else k(f4, gi.$0, ge.docNode);fX.push(cW.New(dN(gf), ge.docNode, X([gh, gg]), gf, cX(), null));fY.push(ge.updates);} });let f7=false;bb(fU, "slot", (gc) => { const gd=gc.getAttribute("name");const ge=gd==""||gd==null?"default":gd.toLowerCase();if(f7&&ge=="default"||!r(fU.parentElement, null)){ } else { while(gc.hasChildNodes())gc.removeChild(gc.lastChild);if(ge=="default")f7=true;const gf=f6(ge);if(gf!=null&&gf.$==1){ const gg=gf.$0;cC(gc, gg.docNode);fX.push(cW.New(dN(gc), gg.docNode, null, gc, cX(), null));fY.push(gg.updates);} } });bb(fU, "[ws-attr]", (gc) => { let gd;const ge=gc.getAttribute("ws-attr");gc.removeAttribute("ws-attr");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];if(gg instanceof d4)f5(gc, gg.Value);else console.warn("Attribute hole filled with non-attribute data", ge);} });bb(fU, "[ws-on]", (gc) => { f5(gc, ef.Concat(bD((gd) => { let ge;const gf=em(gd, [":"], 1);const gg=(ge=null,[f1.TryGetValue(j(gf, 1), {get:() => ge, set:(gi) => { ge=gi;}}), ge]);if(gg[0]){ const gh=gg[1];return gh instanceof d5?X(d6(j(gf, 0), gh.Value)):gh instanceof H?X(ef.Handler(j(gf, 0), gh.Value)):(console.warn("Event hole on"+j(gf, 0)+" filled with non-event data", j(gf, 1)),null);} else return null;}, em(gc.getAttribute("ws-on"), [" "], 1))));gc.removeAttribute("ws-on");});bb(fU, "[ws-onafterrender]", (gc) => { let gd;const ge=gc.getAttribute("ws-onafterrender");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];if(gg instanceof eg){ gc.removeAttribute("ws-onafterrender");f5(gc, d7(gg.Value));} else if(gg instanceof eh){ gc.removeAttribute("ws-onafterrender");f5(gc, d7(gg.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", ge);} });bb(fU, "[ws-var]", (gc) => { let gd;const ge=gc.getAttribute("ws-var");gc.removeAttribute("ws-var");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gg) => { gd=gg;}}), gd]);if(gf[0])gf[1].AddAttribute((gg) =>(gh) => f5(gg, gh), gc);});const f8=() => { bd("[ws-dom]", (gc) => { let gd;let ge;let gf;const gg=(gd=null,[f1.TryGetValue(gc.getAttribute("ws-dom").toLowerCase(), {get:() => gd, set:(gk) => { gd=gk;}}), gd]);if(gg[0]){ const gh=gg[1];if(gh instanceof bY){ const gi=gh.Value;gc.removeAttribute("ws-dom");ge=gc;const gj=new MutationObserver((gk, gl) => { bI((gm) => { gm.removedNodes.forEach(fQ((gn) => gn[0]===ge&&gm.addedNodes.length!==1?(gi.SetFinal(null),gl.disconnect()):null), null);}, gk);});if(gc.parentElement!==null)gj.observe(gc.parentElement, (gf={},gf.childList=true,gf));gi.Set(X(gc));c7((gk) => { if(gk!=null&&gk.$==1){ const gl=gk.$0;if(ge===gl){ } else { ge.replaceWith(gl);ge=gl;} } else { ge.remove();gj.disconnect();} }, gi.View);} } });};bb(fU, "[ws-attr-holes]", (gc) => { const gd=new RegExp(be(), "g");const ge=em(gc.getAttribute("ws-attr-holes"), [" "], 1);gc.removeAttribute("ws-attr-holes");for(let gf=0, gg=ge.length-1;gf<=gg;gf++)((() => { let gh;const gi=j(ge, gf);const gj=gc.getAttribute(gi);let gk=null;let gl=0;const gm=[];while(gk=gd.exec(gj),gk!==null){ const gn=dk(gj, X(gl), X(gd.lastIndex-j(gk, 0).length-1));gl=gd.lastIndex;gm.push([gn, j(gk, 1)]);} const go=dk(gj, X(gl), null);gd.lastIndex=0;const gp=bJ((gu, gv) =>(((gw) => { const gx=gw[0];const gy=gw[1];return(gz) => { let gA;const gB=gz[0];const gC=gz[1];const gD=(gA=null,[f1.TryGetValue(gy, {get:() => gA, set:(gF) => { gA=gF;}}), gA]);const gE=gD[0]?gD[1].AsChoiceView:ei("");return gE.$==1?[gx, ek.Cons(gB==""?gE.$0:c8((gF) => gF+gB, gE.$0), gC)]:[gx+gE.$0+gB, gC];};})(gu))(gv), gm, [go, ek.Empty]);if(gp[1].$==1){ if(gp[1].$1.$==1){ if(gp[1].$1.$1.$==1){ if(gp[1].$1.$1.$1.$==0){ const gq=gp[0];gh=d8(gi, c9((gu, gv, gw) => gq+gu+gv+gw, gp[1].$0, gp[1].$1.$0, gp[1].$1.$1.$0));} else { const gr=gp[0];gh=d8(gi, c8((gu) => gr+el("", gu), c_(gp[1])));} } else { const gs=gp[0];gh=d8(gi, c$((gu, gv) => gs+gu+gv, gp[1].$0, gp[1].$1.$0));} } else if(gp[0]=="")gh=d8(gi, gp[1].$0);else { const gt=gp[0];gh=d8(gi, c8((gu) => gt+gu, gp[1].$0));} } else gh=ef.Create(gi, gp[0]);return f5(gc, gh);})());});let f9=f4;const f_=f0.length==0?X(() => { f8();}):X((gc) => { f8();bI((gd) => { gd(gc);}, f0);});const f$=!r(f4, null)&&f4.length===1&&(j(f4, 0)instanceof Node&&(j(f4, 0)instanceof Element&&(fW=j(f4, 0),true)))?X(fW):null;let ga={Els:f9, Dirty:true, Holes:fX, Attrs:fZ, Render:f_?f_.$0:void 0, El:f$?f$.$0:void 0};let gb=fR(ga, ["Render", "El"]);return[gb, et(c6(), da, fY)];}
function ba(){ return cB.GlobalHoles;}
function bb(fU, fV, fW){ ds(fU, fV, (fX) => { if(fX.closest("[ws-preserve]")==null)fW(fX);});}
function bc(fU, fV, fW){ const fX=u0036(fW);return(fY) => { u0039(fU, fV, fX, fY);};}
function bd(fU, fV){ dt(fU, (fW) => { if(fW.closest("[ws-preserve]")==null)fV(fW);});}
function be(){ return cB.TextHoleRE;}
let bf=fL((fU) => class fV extends h { static { bf=fU(this);} docNode;updates;static RunById(fW, fX){ const fY=globalThis.document.getElementById(fW);if(r(fY, null))e("invalid id: "+fW);else bf.Run(fY, fX);} static Run(fW, fX){ cC(fW, fX.docNode);bf.RunInPlace(false, fW, fX);} static get Empty(){ return bf.Mk(null, c6());} static RunInPlace(fW, fX, fY){ const fZ=cE(fX, fY.docNode);c7(dA()||dH()?dI(cF(fW, fZ, fY.docNode)):() => { cG(fW, fZ, fY.docNode);}, fY.updates);} static Mk(fW, fX){ return new fV(fW, fX);} static TextNode(fW){ return bf.Mk(b2(globalThis.document.createTextNode(fW)), c6());} static TextView(fW){ const fX=cP();return bf.Mk(b3(fX), c8((fY) => { cQ(fX, fY);}, fW));} constructor(fW, fX){ super();this.docNode=fW;this.updates=fX;} });
let bg=fL((fU) => class fV extends h { static { bg=fU(this);} equals;hash;count;data;set_Item(fW, fX){ this.set(fW, fX);} set(fW, fX){ const fY=this.hash(fW);const fZ=this.data[fY];if(fZ==null){ this.count=this.count+1;this.data[fY]=new Array({K:fW, V:fX});} else { const f0=bE((f1) => this.equals.apply(null, [(f(f1))[0], fW]), fZ);if(f0==null){ this.count=this.count+1;fZ.push({K:fW, V:fX});} else fZ[f0.$0]={K:fW, V:fX};} } TryGetValue(fW, fX){ const fY=this.data[this.hash(fW)];if(fY==null)return false;else { const fZ=bF((f0) => { const f1=f(f0);return this.equals.apply(null, [f1[0], fW])?X(f1[1]):null;}, fY);return fZ!=null&&fZ.$==1&&(fX.set(fZ.$0),true);} } ContainsKey(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:bG((fY) => this.equals.apply(null, [(f(fY))[0], fW]), fX);} RemoveKey(fW){ return this.remove(fW);} get Keys(){ return new dz(this);} GetEnumerator(){ return cz(bH(bZ(this.data)));} get Values(){ return new ex(this);} remove(fW){ const fX=this.hash(fW);const fY=this.data[fX];if(fY==null)return false;else { const fZ=bL((f0) =>!this.equals.apply(null, [(f(f0))[0], fW]), fY);return m(fZ)<fY.length&&(this.count=this.count-1,this.data[fX]=fZ,true);} } Item(fW){ return this.get(fW);} get(fW){ const fX=this.data[this.hash(fW)];return fX==null?cv():bN((fY) => { const fZ=f(fY);return this.equals.apply(null, [fZ[0], fW])?X(fZ[1]):null;}, fX);} static New_5(){ return new this("New_5");} static New_6(fW, fX, fY){ return new this("New_6", fW, fX, fY);} constructor(fW, fX, fY, fZ){ if(fW=="New_5"){ fW="New_6";fX=[];fY=r;fZ=u;} if(fW=="New_6"){ const f0=fX;const f1=fY;const f2=fZ;super();this.equals=f1;this.hash=f2;this.count=0;this.data=[];const f3=cw(f0);try { while(f3.MoveNext()){ const f4=f3.Current;this.set(f4.K, f4.V);} } finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } } });
let bh=fL((fU) => class fV extends h { static { bh=fU(this);} static Create_1(fW){ return new b6(false, {s:c0(fW, [])}, fW);} static { } });
function bi(fU, fV){ return{k:fU, ct:fV};}
function bj(fU){ return{$:1, $0:fU};}
function bk(fU){ return{$:0, $0:fU};}
function bl(fU){ return{$:2, $0:fU};}
function bm(fU, fV){ return{c:fU, r:fV};}
let bn=fL((fU) => class fV extends h { static { bn=fU(this);} equals;hash;data;count;SAdd(fW){ return this.add(fW);} Contains(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:this.arrContains(fW, fX);} add(fW){ const fX=this.hash(fW);const fY=this.data[fX];return fY==null?(this.data[fX]=[fW],this.count=this.count+1,true):this.arrContains(fW, fY)?false:(fY.push(fW),this.count=this.count+1,true);} arrContains(fW, fX){ let fY=true;let fZ=0;const f0=fX.length;while(fY&&fZ<f0)if(this.equals.apply(null, [fX[fZ], fW]))fY=false;else fZ=fZ+1;return!fY;} GetEnumerator(){ return cw(eP(this.data));} ExceptWith(fW){ const fX=cw(fW);try { while(fX.MoveNext())this.Remove(fX.Current);} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} } get Count(){ return this.count;} IntersectWith(fW){ const fX=new bn("New_4", fW, this.equals, this.hash);const fY=eP(this.data);for(let f0=0, f1=fY.length-1;f0<=f1;f0++){ const fZ=fY[f0];if(!fX.Contains(fZ))this.Remove(fZ);} } Remove(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:this.arrRemove(fW, fX)&&(this.count=this.count-1,true);} CopyTo(fW, fX){ const fY=eP(this.data);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)k(fW, fZ+fX, fY[fZ]);} arrRemove(fW, fX){ let fY=true;let fZ=0;const f0=fX.length;while(fY&&fZ<f0)if(this.equals.apply(null, [fX[fZ], fW])){ fX.splice(fZ, 1);fY=false;} else fZ=fZ+1;return!fY;} static New_3(){ return new this("New_3");} static New_4(fW, fX, fY){ return new this("New_4", fW, fX, fY);} static New_2(fW){ return new this("New_2", fW);} constructor(fW, fX, fY, fZ){ if(fW=="New_3"){ fW="New_4";fX=[];fY=r;fZ=u;} let f0;if(fW=="New_2"){ f0=fX;fW="New_4";fX=f0;fY=r;fZ=u;} if(fW=="New_4"){ const f1=fX;const f2=fY;const f3=fZ;super();this.equals=f2;this.hash=f3;this.data=[];this.count=0;const f4=cw(f1);try { while(f4.MoveNext())this.add(f4.Current);} finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} } } });
function bo(fU, fV){ return{GetEnumerator:() => { const fW=cw(fU);const fX=[true];return new cA(fW, null, (fY) => { if(fY.s.MoveNext()){ fY.c=fY.s.Current;return true;} else { const fZ=fY.s;if(!r(fZ, null))fZ.Dispose();fY.s=null;return fX[0]&&(fX[0]=false,fY.s=cw(fV),fY.s.MoveNext()?(fY.c=fY.s.Current,true):(fY.s.Dispose(),fY.s=null,false));} }, (fY) => { const fZ=fY.s;if(!r(fZ, null))fZ.Dispose();});}};}
function bp(fU){ const fV=cw(fU);try { return fV.MoveNext()?fV.Current:dw();} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bq(fU, fV, fW){ let fX=fV;const fY=cw(fW);try { while(fY.MoveNext())fX=fU(fX, fY.Current);return fX;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function br(fU, fV){ const fW=cw(fV);try { while(fW.MoveNext())fU(fW.Current);} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bs(fU, fV){ return{GetEnumerator:() => { const fW=cw(fV);return new cA(null, null, (fX) => fW.MoveNext()&&(fX.c=fU(fW.Current),true), () => { fW.Dispose();});}};}
function bt(fU){ return{GetEnumerator:() => cw(fU())};}
function bu(fU, fV){ return bw(bs(fU, fV));}
function bv(fU){ const fV=cw(fU);try { if(!fV.MoveNext())by();let fW=fV.Current;while(fV.MoveNext()){ const fX=fV.Current;if(z(fX, fW)===1)fW=fX;} return fW;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bw(fU){ return{GetEnumerator:() => { const fV=cw(fU);function fW(fX){ while(true){ const fY=fX.s;if(r(fY, null)){ if(fV.MoveNext()){ fX.s=cw(fV.Current);fX=fX;} else { fV.Dispose();return false;} } else if(fY.MoveNext()){ fX.c=fY.Current;return true;} else { fX.Dispose();fX.s=null;fX=fX;} } } return new cA(null, null, fW, (fX) => { const fY=fX.s;if(!r(fY, null))fY.Dispose();if(!r(fV, null))fV.Dispose();});}};}
function bx(fU, fV){ return bz(fU, bA(fV));}
function by(){ return e("The input sequence was empty.");}
function bz(fU, fV){ fU<0?dy():void 0;return{GetEnumerator:() => { const fW=[cw(fV)];return new cA(0, null, (fX) => { fX.s=fX.s+1;if(fX.s>fU)return false;else { const fY=fW[0];return r(fY, null)?dw():fY.MoveNext()?(fX.c=fY.Current,fX.s===fU?(fY.Dispose(),fW[0]=null):void 0,true):(fY.Dispose(),fW[0]=null,dw());} }, () => { const fX=fW[0];if(!r(fX, null))fX.Dispose();});}};}
function bA(fU){ return{GetEnumerator:() => new cA(0, null, (fV) => { fV.c=fU(fV.s);fV.s=fV.s+1;return true;}, void 0)};}
function bB(fU, fV){ return!bC((fW) =>!fU(fW), fV);}
function bC(fU, fV){ const fW=cw(fV);try { let fX=false;while(!fX&&fW.MoveNext())fX=fU(fW.Current);return fX;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bD(fU, fV){ const fW=[];for(let fY=0, fZ=fV.length-1;fY<=fZ;fY++){ const fX=fU(fV[fY]);if(fX==null){ } else fW.push(fX.$0);} return fW;}
function bE(fU, fV){ let fW=null;let fX=0;while(fX<fV.length&&fW==null){ fU(fV[fX])?fW=X(fX):void 0;fX=fX+1;} return fW;}
function bF(fU, fV){ let fW=null;let fX=0;while(fX<fV.length&&fW==null){ const fY=fU(fV[fX]);if(fY!=null&&fY.$==1)fW=fY;fX=fX+1;} return fW;}
function bG(fU, fV){ let fW=false;let fX=0;while(!fW&&fX<m(fV))if(fU(fV[fX]))fW=true;else fX=fX+1;return fW;}
function bH(fU){ return Array.prototype.concat.apply([], bM(fU));}
function bI(fU, fV){ for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function bJ(fU, fV, fW){ let fX=fW;const fY=fV.length;for(let fZ=1, f0=fY;fZ<=f0;fZ++)fX=fU(fV[fY-fZ], fX);return fX;}
function bK(fU, fV){ const fW=new Array(fV.length);for(let fX=0, fY=fV.length-1;fX<=fY;fX++)fW[fX]=fU(fV[fX]);return fW;}
function bL(fU, fV){ const fW=[];for(let fX=0, fY=fV.length-1;fX<=fY;fX++)if(fU(fV[fX]))fW.push(fV[fX]);return fW;}
function bM(fU){ if(fU instanceof Array)return fU.slice();else if(fU instanceof ek)return bO(fU);else { const fV=[];const fW=cw(fU);try { while(fW.MoveNext())fV.push(fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } }
function bN(fU, fV){ const fW=bF(fU, fV);return fW==null?e("KeyNotFoundException"):fW.$0;}
function bO(fU){ const fV=[];let fW=fU;while(!(fW.$==0)){ fV.push(e5(fW));fW=e6(fW);} return fV;}
function bP(fU, fV){ let fW=true;let fX=0;while(fW&&fX<m(fV))if(fU(fV[fX]))fX=fX+1;else fW=false;return fW;}
function bQ(fU, fV){ const fW=new Array(fU);for(let fX=0, fY=fU-1;fX<=fY;fX++)fW[fX]=fV;return fW;}
function bR(fU, fV){ if(fU<0)e("Negative size given.");else null;const fW=new Array(fU);for(let fX=0, fY=fU-1;fX<=fY;fX++)fW[fX]=fV(fX);return fW;}
let bS=fL((fU) => class fV extends h { static { bS=fU(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fW, fX, fY){ let fZ;const f0=bS.GetHolesFor(fW);const f1=(fZ=null,[f0.TryGetValue(fX, {get:() => fZ, set:(f3) => { fZ=f3;}}), fZ]);if(f1[0])return f1[1];else { const f2=fY();f0.set_Item(fX, f2);return f2;} } static GetHolesFor(fW){ let fX;const fY=(fX=null,[bS.initialized.TryGetValue(fW, {get:() => fX, set:(f0) => { fX=f0;}}), fX]);if(fY[0])return fY[1];else { const fZ=new bg("New_5");bS.initialized.set_Item(fW, fZ);return fZ;} } static { bS.initialized=new bg("New_5");bS.instances=new bg("New_5");} });
let bT=fL((fU) => { fO(D);return class fV extends D { static { bT=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(this.fillWith.View);} AddAttribute(fW, fX){(fW(fX))(d9(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bU=fL((fU) => { fO(D);return class fV extends D { static { bU=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(d_(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bV=fL((fU) => { fO(D);return class fV extends D { static { bV=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(d$(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bW=fL((fU) => { fO(D);return class fV extends D { static { bW=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8((fW) =>(new Date(fW)).toLocaleString(), this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(ea(this.fillWith));} get AsChoiceView(){ return ej(c8((fW) =>(new Date(fW)).toLocaleString(), this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bX=fL((fU) => { fO(D);return class fV extends D { static { bX=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(eb(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bY=fL((fU) => { fO(D);return class fV extends D { static { bY=fU(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
function bZ(fU){ let fV=[];let fW;for(var fX in fU)fV.push(fU[fX]);return fV;}
let b0=fL((fU) => { fO(D);return class fV extends D { static { b0=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8((fW) => el(",", fW), this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(ec(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
function b1(fU){ return{$:6, $0:fU};}
function b2(fU){ return{$:5, $0:fU};}
function b3(fU){ return{$:4, $0:fU};}
let b4=fL((fU) => class fV { static { b4=fU(this);} });
function b5(fU, fV){ return fD(fU, -2147483648, 2147483647, fV);}
let b6=fL((fU) => { fO(o);return class fV extends o { static { b6=fU(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(fW){ if(this.isConst)(((fX) => fX("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fX) => { console.log(fX);}));else { dK(this.snap);this.current=fW;this.snap={s:c0(fW, [])};} } SetFinal(fW){ if(this.isConst)(((fX) => fX("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fX) => { console.log(fX);}));else { dK(this.snap);this.isConst=true;this.current=fW;this.snap={s:c1(fW)};} } Get(){ return this.current;} UpdateMaybe(fW){ const fX=fW(this.Get());if(fX!=null&&fX.$==1)this.Set(fX.$0);} constructor(fW, fX, fY){ super();this.isConst=fW;this.current=fY;this.snap=fX;this.view=() => this.snap;this.id=cX();} };});
function b7(fU, fV, fW){ const fX=fU.s;if(fX==null)fW();else fX!=null&&fX.$==2?(fX.$1.push(fW),fV(fX.$0)):fX!=null&&fX.$==3?(fX.$0.push(fV),fX.$1.push(fW)):fV(fX.$0);}
function b8(fU, fV){ const fW=fV.s;if(fW!=null&&fW.$==0)return{s:c1(fU(fW.$0))};else { const fX={s:c2([], [])};cd(fV, (fY) => { ce(fX, fV, fU(fY));}, fX);return fX;} }
function b9(fU, fV, fW, fX){ const fY=fV.s;const fZ=fW.s;const f0=fX.s;if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?f0!=null&&f0.$==0?{s:c1(fU(fY.$0, fZ.$0, f0.$0))}:cf(fU, fY.$0, fZ.$0, fX):f0!=null&&f0.$==0?cg(fU, fY.$0, f0.$0, fW):ch(fU, fY.$0, fW, fX);else if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?ci(fU, fZ.$0, f0.$0, fV):cj(fU, fZ.$0, fV, fX);else if(f0!=null&&f0.$==0)return ck(fU, f0.$0, fV, fW);else { const f1={s:c2([], [])};const f2=() => { const f3=f1.s;if(!(f3!=null&&f3.$==0||f3!=null&&f3.$==2)){ const f4=cl(fV);const f5=cl(fW);const f6=cl(fX);if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f4.$0[1]&&f5.$0[1]&&f6.$0[1])cm(f1, fU(f4.$0[0], f5.$0[0], f6.$0[0]));else cn(f1, fU(f4.$0[0], f5.$0[0], f6.$0[0]));} };cd(fV, f2, f1);cd(fW, f2, f1);cd(fX, f2, f1);return f1;} }
function b_(fU){ const fV=bM(fU);if(fV.length==0)return{s:c1([])};else { const fW={s:c2([], [])};const fX=[m(fV)-1];const fY=() => { if(fX[0]===0){ const fZ=bK((f0) => { const f1=f0.s;return f1!=null&&f1.$==0?f1.$0:f1!=null&&f1.$==2?f1.$0:e("value not found by View.Sequence");}, fV);if(bP((f0) => { const f1=f0.s;return f1!=null&&f1.$==0;}, fV))cm(fW, fZ);else cn(fW, fZ);} else fX[0]=fX[0]-1;};bI((fZ) => { cd(fZ, fY, fW);}, fV);return fW;} }
function b$(fU, fV, fW){ const fX=fV.s;const fY=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?{s:c1(fU(fX.$0, fY.$0))}:co(fU, fX.$0, fW);else if(fY!=null&&fY.$==0)return cp(fU, fY.$0, fV);else { const fZ={s:c2([], [])};const f0=() => { const f1=fZ.s;if(!(f1!=null&&f1.$==0||f1!=null&&f1.$==2)){ const f2=cl(fV);const f3=cl(fW);if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f2.$0[1]&&f3.$0[1])cm(fZ, fU(f2.$0[0], f3.$0[0]));else cn(fZ, fU(f2.$0[0], f3.$0[0]));} };cd(fV, f0, fZ);cd(fW, f0, fZ);return fZ;} }
function ca(fU, fV){ const fW=fU.s;const fX=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?{s:c1(null)}:fV;else if(fX!=null&&fX.$==0)return fU;else { const fY={s:c2([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=cl(fU);const f2=cl(fV);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f1.$0[1]&&f2.$0[1])cm(fY, null);else cn(fY, null);} };cd(fU, fZ, fY);cd(fV, fZ, fY);return fY;} }
function cb(fU){ const fV=fU.s;if(fV==null)return fU;else if(fV!=null&&fV.$==2){ const fW={s:c0(fV.$0, [])};cq(fU, fW);return fW;} else if(fV!=null&&fV.$==3){ const fX={s:c2([], [])};cd(fU, (fY) => { ce(fX, fU, fY);}, fX);return fX;} else return fU;}
function cc(fU, fV){ const fW=fU.s;if(fW==null)fV();else fW!=null&&fW.$==2?fW.$1.push(fV):fW!=null&&fW.$==3?fW.$1.push(fV):void 0;}
function cd(fU, fV, fW){ const fX=fU.s;if(fX==null)dK(fW);else fX!=null&&fX.$==2?(cr(fX.$1, fW),fV(fX.$0)):fX!=null&&fX.$==3?(fX.$0.push(fV),cr(fX.$1, fW)):fV(fX.$0);}
function ce(fU, fV, fW){ const fX=fV.s;if(fX!=null&&fX.$==0)cm(fU, fW);else cn(fU, fW);}
function cf(fU, fV, fW, fX){ return b8((fY) => fU(fV, fW, fY), fX);}
function cg(fU, fV, fW, fX){ return b8((fY) => fU(fV, fY, fW), fX);}
function ch(fU, fV, fW, fX){ return b$((fY, fZ) => fU(fV, fY, fZ), fW, fX);}
function ci(fU, fV, fW, fX){ return b8((fY) => fU(fY, fV, fW), fX);}
function cj(fU, fV, fW, fX){ return b$((fY, fZ) => fU(fY, fV, fZ), fW, fX);}
function ck(fU, fV, fW, fX){ return b$((fY, fZ) => fU(fY, fZ, fV), fW, fX);}
function cl(fU){ const fV=fU.s;return fV!=null&&fV.$==0?X([fV.$0, true]):fV!=null&&fV.$==2?X([fV.$0, false]):null;}
function cm(fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==3){ fU.s=c1(fV);const fX=fW.$0;for(let fY=0, fZ=m(fX)-1;fY<=fZ;fY++)(j(fX, fY))(fV);} else void 0;}
function cn(fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==3){ fU.s=c0(fV, fW.$1);const fX=fW.$0;for(let fY=0, fZ=m(fX)-1;fY<=fZ;fY++)(j(fX, fY))(fV);} else void 0;}
function co(fU, fV, fW){ return b8((fX) => fU(fV, fX), fW);}
function cp(fU, fV, fW){ return b8((fX) => fU(fX, fV), fW);}
function cq(fU, fV){ const fW=fU.s;if(fW==null)dK(fV);else fW!=null&&fW.$==2?cr(fW.$1, fV):fW!=null&&fW.$==3?cr(fW.$1, fV):void 0;}
function cr(fU, fV){ fU.push(fV);if(fU.length%20===0){ const fW=fU.slice(0);fI(fU);for(let fY=0, fZ=m(fW)-1;fY<=fZ;fY++){ const fX=j(fW, fY);if(typeof fX=="object")(((f0) => { if(f0.s)fU.push(f0);})(fX));else(((f0) => { fU.push(f0);})(fX));} } else void 0;}
let cs=fL((fU) => class fV extends h { static { cs=fU(this);} idle;robin;Fork(fW){ this.robin.push(fW);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fW=Date.now();let fX=true;while(fX)if(this.robin.length===0){ this.idle=true;fX=false;} else {(this.robin.shift())();Date.now()-fW>40?(setTimeout(() => { this.tick();}, 0),fX=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let ct=fL((fU) => { fO(Error);return class fV extends Error { static { ct=fU(this);} reason;constructor(fW){ super("Promise rejected");this.reason=fW;} };});
let cu=fL((fU) => class fV { static { cu=fU(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bm(false, []);this.scheduler=new cs();this.defCTS=[new c4()];this.Zero=L();this.GetCT=(fW) => { fW.k(bk(fW.ct));};} });
function cv(){ throw new eY("New");}
function cw(fU){ return fU instanceof Array?cx(fU):r(typeof fU, "string")?cy(fU):fU.GetEnumerator();}
function cx(fU){ return new cA(0, null, (fV) => { const fW=fV.s;return fW<m(fU)&&(fV.c=j(fU, fW),fV.s=fW+1,true);}, void 0);}
function cy(fU){ return new cA(0, null, (fV) => { const fW=fV.s;return fW<fU.length&&(fV.c=fU[fW],fV.s=fW+1,true);}, void 0);}
function cz(fU){ return fU instanceof Array?cx(fU):r(typeof fU, "string")?cy(fU):"GetEnumerator0"in fU?fU.GetEnumerator0():fU.GetEnumerator();}
let cA=fL((fU) => class fV extends h { static { cA=fU(this);} s;c;n;d;e;MoveNext(){ const fW=this.n(this);this.e=fW?1:2;return fW;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fW, fX, fY, fZ){ super();this.s=fW;this.c=fX;this.n=fY;this.d=fZ;this.e=0;} });
let cB=fL((fU) => class fV { static { cB=fU(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bg("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bg("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cC(fU, fV){ cD(fU, fV, null);}
function cD(fU, fV, fW){ while(true){ if(fV!=null&&fV.$==1)return cI(fU, fV.$0.El, fW);else if(fV!=null&&fV.$==2){ const fX=fV.$0;fX.Dirty=false;fV=fX.Current;} else if(fV==null)return fW;else if(fV!=null&&fV.$==4)return cI(fU, fV.$0.Text, fW);else if(fV!=null&&fV.$==5)return cI(fU, fV.$0, fW);else if(fV!=null&&fV.$==6)return bJ((f0, f1) =>((((f2) =>(f3) =>(f4) => f3==null||f3.constructor===Object?cD(f2, f3, f4):cI(f2, f3, f4))(fU))(f0))(f1), fV.$0.Els, fW);else { const fY=fV.$1;const fZ=fV.$0;fV=fZ;fW=cD(fU, fY, fW);} } }
function cE(fU, fV){ return ey(ez(), cJ(fU, dR(), fV));}
function cF(fU, fV, fW){ if(dA()){ const fX=null;return J(() => { const fY=eA(fW);const fZ=cN(fV, fY);const f0=cM(fV, fY);return K(dB(dC(fZ, cL(fV, fY))), () => K(cK(fU, fV), () => K(dB(f0), () => { fV.PreviousNodes=fY;return L(null);})));});} else return cK(fU, fV);}
function cG(fU, fV, fW){ const fX=eA(fW);cO(fU, fV.Top);fV.PreviousNodes=fX;}
function cH(fU, fV){ const fW=fU.parentNode;const fX=globalThis.document.createTextNode("");fW.insertBefore(fX, fU);cR(fU, fV);return fX;}
function cI(fU, fV, fW){ du(fU, fW, fV);return fV;}
function cJ(fU, fV, fW){ cC(fU, fW);const fX=dL(fU, fV);return cW.New(fX, fW, null, fU, cX(), fP(fX.OnAfterRender));}
function cK(fU, fV){ if(dH()){ const fW=(fX) => { requestAnimationFrame(() => { cO(fU, fV.Top);fX();});};return S((fX, fY, fZ) => fW.apply(null, [fX, fY, fZ]));} else { cO(fU, fV.Top);return L(null);} }
function cL(fU, fV){ return dF(bK((fW) => dT(fW.Attr), eE(eD(fV, eC((fW) => dS(fW.Attr), fU.PreviousNodes)))));}
function cM(fU, fV){ return dF(bK((fW) => dV(fW.Attr), eE(eD(fU.PreviousNodes, eC((fW) => dU(fW.Attr), fV)))));}
function cN(fU, fV){ const fW=(fY) => dW(fY.Attr);const fX=(fY) => eC(fW, fY);return dF(bK((fY) => dX(fY.Attr), eE(eF(fX(fU.PreviousNodes), fX(fV)))));}
function cO(fU, fV){!fU?cS(fV):void 0;cT(fV.Children);cU(fV);}
function cP(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cQ(fU, fV){ fU.Value=fV;fU.Dirty=true;}
function cR(fU, fV){ cD(fU.parentNode, fV, fU);}
function cS(fU){ function fV(fW){ function fX(fY){ while(true){ if(fY!=null&&fY.$==0){ const fZ=fY.$1;const f0=fY.$0;if(fX(f0))return true;else fY=fZ;} else if(fY!=null&&fY.$==2){ const f1=fY.$0;if(f1.Dirty)return true;else fY=f1.Current;} else if(fY!=null&&fY.$==6){ const f2=fY.$0;return f2.Dirty||bG(fV, f2.Holes);} else return false;} } return fX(fW.Children);} d0(fU.El, fU.Attr);if(fV(fU))cV(fU);}
function cT(fU){ while(true){ if(fU!=null&&fU.$==1)return cO(false, fU.$0);else if(fU!=null&&fU.$==2){ const fV=fU.$0;fU=fV.Current;} else if(fU==null)return null;else if(fU!=null&&fU.$==5)return null;else if(fU!=null&&fU.$==4){ const fW=fU.$0;return fW.Dirty?(fW.Text.nodeValue=fW.Value,fW.Dirty=false):null;} else if(fU!=null&&fU.$==6){ const fX=fU.$0;bI((f0) => { cO(false, f0);}, fX.Holes);bI((f0) => { d0(f0[0], f0[1]);}, fX.Attrs);return cU(fX);} else { const fY=fU.$1;const fZ=fU.$0;cT(fZ);fU=fY;} } }
function cU(fU){ const fV=fP(fU.Render);if(fV!=null&&fV.$==1){ fV.$0(fU.El);fN(fU, "Render", null);} }
function cV(fU){ const fV=fU.El;function fW(f0, f1){ while(true){ if(f0!=null&&f0.$==1)return f0.$0.El;else if(f0!=null&&f0.$==2){ const f2=f0.$0;if(f2.Dirty){ f2.Dirty=false;return cD(fV, f2.Current, f1);} else f0=f2.Current;} else if(f0==null)return f1;else if(f0!=null&&f0.$==4)return f0.$0.Text;else if(f0!=null&&f0.$==5)return f0.$0;else if(f0!=null&&f0.$==6){ const f3=f0.$0;if(f3.Dirty)f3.Dirty=false;return bJ((f6, f7) => f6==null||f6.constructor===Object?fW(f6, f7):f6, f3.Els, f1);} else { const f4=f0.$1;const f5=f0.$0;f0=f5;f1=fW(f4, f1);} } } const fX=fU.El;fy((f0) => { dv(fX, f0);}, fx(fz(fU), fw(fU.El, fP(fU.Delimiters))));let fY=fU.Children;const fZ=fP(fU.Delimiters);fW(fY, fZ!=null&&fZ.$==1?fZ.$0[1]:null);}
let cW=fL((fU) => class fV { static { cW=fU(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(fW){ return this.ElKey===fW.ElKey;} GetHashCode(){ return this.ElKey;} static New(fW, fX, fY, fZ, f0, f1){ const f2={Attr:fW, Children:fX, El:fZ, ElKey:f0};let f3=(fN(f2, "Delimiters", fY),fN(f2, "Render", f1),f2);return fS(cW, f3);} });
function cX(){ cY(cZ()+1);return cZ();}
function cY(fU){ eQ.counter=fU;}
function cZ(){ return eQ.counter;}
function c0(fU, fV){ return{$:2, $0:fU, $1:fV};}
function c1(fU){ return{$:0, $0:fU};}
function c2(fU, fV){ return{$:3, $0:fU, $1:fV};}
let c3=fL((fU) => { fO(Error);return class fV extends Error { static { c3=fU(this);} ct;static New(fW){ return new this("New", fW);} static New_1(fW, fX, fY){ return new this("New_1", fW, fX, fY);} constructor(fW, fX, fY, fZ){ let f0;if(fW=="New"){ f0=fX;fW="New_1";fX="The operation was canceled.";fY=null;fZ=f0;} if(fW=="New_1"){ const f1=fX;const f2=fY;const f3=fZ;super(f1);this.inner=f2;this.ct=f3;} } };});
let c4=fL((fU) => class fV extends h { static { c4=fU(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
let c5=fL((fU) => { fO(bf);return class fV extends bf { static { c5=fU(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(fW, fX){ const fY=ew.Create(fX);const fZ=bK((f2) => dM(f2[1]), fW.Attrs);let f0=et(c6(), da, fZ);let f1=da(f0, fY.v);return new fV(b1(fW), f1, j(fW.Els, 0), fY);} constructor(fW, fX, fY, fZ){ super(fW, fX);this.docNode_1=fW;this.updates_1=fX;this.elt=fY;this.rvUpdates=fZ;} };});
function c6(fU){ const fV={s:c1(fU)};return() => fV;}
function c7(fU, fV){ function fW(){ b7(fV(), fU, () => { R().Fork(fW);});} R().Fork(fW);}
function c8(fU, fV){ return db(() => b8(fU, fV()));}
function c9(fU, fV, fW, fX){ return db(() => b9(fU, fV(), fW(), fX()));}
function c_(fU){ return db(() => b_(bs((fV) => fV(), fU)));}
function c$(fU, fV, fW){ return db(() => b$(fU, fV(), fW()));}
function da(fU, fV){ return db(() => ca(fU(), fV()));}
function db(fU){ const fV={c:null, o:fU};return() => { let fW=fV.c;if(fW===null){ fW=fV.o();fV.c=fW;const fX=fW.s;if(fX!=null&&fX.$==0)fV.o=null;else cc(fW, () => { fV.c=null;});return fW;} else return fW;};}
function dc(fU){ let fV=null;let fW=0;const fX=fU.textContent;const fY=new RegExp(be(), "g");while(fV=fY.exec(fX),fV!==null){ fU.parentNode.insertBefore(globalThis.document.createTextNode(dk(fX, X(fW), X(fY.lastIndex-j(fV, 0).length-1))), fU);fW=fY.lastIndex;const fZ=globalThis.document.createElement("span");fZ.setAttribute("ws-replace", j(fV, 1).toLowerCase());fU.parentNode.insertBefore(fZ, fU);} fY.lastIndex=0;fU.textContent=dk(fX, X(fW), null);}
function dd(fU){ console.warn("Instantiating non-loaded template", fU);}
function de(fU, fV, fW){ const fX=fU.querySelector("[ws-replace]");return r(fX, null)?(console.warn("Filling non-existent text hole", fW),null):(fX.parentNode.replaceChild(globalThis.document.createTextNode(fV), fX),X(fX.getAttribute("ws-replace")));}
function df(fU, fV){ const fW=(fX) => { bb(fU, "["+fX+"]", (fY) => { if(!fV.Contains(fY.getAttribute(fX)))fY.removeAttribute(fX);});};fW("ws-attr");fW("ws-onafterrender");fW("ws-var");bb(fU, "[ws-hole]", (fX) => { if(!fV.Contains(fX.getAttribute("ws-hole"))){ fX.removeAttribute("ws-hole");while(fX.hasChildNodes())fX.removeChild(fX.lastChild);} });bb(fU, "[ws-replace]", (fX) => { if(!fV.Contains(fX.getAttribute("ws-replace")))fX.parentNode.removeChild(fX);});bb(fU, "[ws-on]", (fX) => { fX.setAttribute("ws-on", el(" ", bL((fY) => fV.Contains(j(em(fY, [":"], 1), 1)), em(fX.getAttribute("ws-on"), [" "], 1))));});bb(fU, "[ws-attr-holes]", (fX) => { const fY=em(fX.getAttribute("ws-attr-holes"), [" "], 1);for(let f2=0, f3=fY.length-1;f2<=f3;f2++){ const fZ=j(fY, f2);let f0=new RegExp(be(), "g");let f1=fX.getAttribute(fZ).replace(f0, (f4, f5) => fV.Contains(f5)?f4:"");fX.setAttribute(fZ, f1);} });}
function dg(fU, fV){ dj(fV);const fW=fV.nodeName.toLowerCase();const fX=fU.querySelector("[ws-attr="+fW+"]");if(r(fX, null))console.warn("Filling non-existent attr hole", fW);else { fX.removeAttribute("ws-attr");for(let fZ=0, f0=fV.attributes.length-1;fZ<=f0;fZ++){ const fY=fV.attributes.item(fZ);if(fY.name=="class"&&fX.hasAttribute("class"))fX.setAttribute("class", fX.getAttribute("class")+" "+fY.nodeValue);else fX.setAttribute(fY.name, fY.nodeValue);} } }
function dh(fU, fV){ const fW=(fX) => { bb(fU, "["+fX+"]", (fY) => { let fZ;const f0=(fZ=null,[fV.TryGetValue(fY.getAttribute(fX).toLowerCase(), {get:() => fZ, set:(f1) => { fZ=f1;}}), fZ]);if(f0[0])fY.setAttribute(fX, f0[1]);});};fW("ws-hole");fW("ws-replace");fW("ws-attr");fW("ws-onafterrender");fW("ws-var");bb(fU, "[ws-on]", (fX) => { fX.setAttribute("ws-on", el(" ", bK((fY) => { let fZ;const f0=em(fY, [":"], 1);const f1=(fZ=null,[fV.TryGetValue(j(f0, 1), {get:() => fZ, set:(f2) => { fZ=f2;}}), fZ]);return f1[0]?j(f0, 0)+":"+f1[1]:fY;}, em(fX.getAttribute("ws-on"), [" "], 1))));});bb(fU, "[ws-attr-holes]", (fX) => { const fY=em(fX.getAttribute("ws-attr-holes"), [" "], 1);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)((() => { const f1=j(fY, fZ);return fX.setAttribute(f1, bq((f2, f3) => { const f4=f(f3);return f2.replace(new RegExp("\\${"+f4[0]+"}", "ig"), "${"+f4[1]+"}");}, fX.getAttribute(f1), fV));})());});}
function di(fU, fV, fW){ while(true){ if(fU.hasChildNodes())fW=fV.insertBefore(fU.lastChild, fW);else return null;} }
function dj(fU){ const fV=fU.attributes;const fW=[];const fX=[];const fY=[];for(let f3=0, f4=fV.length-1;f3<=f4;f3++){ const fZ=fV.item(f3);if(en(fZ.nodeName, "ws-on")&&fZ.nodeName!="ws-onafterrender"&&fZ.nodeName!="ws-on"){ fW.push(fZ.nodeName);fX.push(dk(fZ.nodeName, X("ws-on".length), null)+":"+fZ.nodeValue.toLowerCase());} else if(!en(fZ.nodeName, "ws-")&&(new RegExp(be())).test(fZ.nodeValue)){ let f0=new RegExp(be(), "g");let f1=fZ.nodeValue.replace(f0, (f5, f6) =>"${"+f6.toLowerCase()+"}");fZ.nodeValue=f1;fY.push(fZ.nodeName);} else void 0;} if(!(fX.length==0))fU.setAttribute("ws-on", el(" ", fX));if(!(fY.length==0))fU.setAttribute("ws-attr-holes", el(" ", fY));const f2=(f5) => { const f6=fU.getAttribute(f5);if(f6==null){ } else fU.setAttribute(f5, f6.toLowerCase());};f2("ws-hole");f2("ws-replace");f2("ws-attr");f2("ws-onafterrender");f2("ws-var");bI((f5) => { fU.removeAttribute(f5);}, fW);}
function dk(fU, fV, fW){ if(fV==null){ if(fW!=null&&fW.$==1){ const fX=fW.$0;return fX<0?"":fU.slice(0, fX+1);} else return"";} else if(fW==null)return fU.slice(fV.$0);else { const fY=fW.$0;return fY<0?"":fU.slice(fV.$0, fY+1);} }
function dl(fU){ const fV=globalThis.document.createElement("div");if(!dn().test(fU)){ fV.appendChild(globalThis.document.createTextNode(fU));return fV;} else { const fW=dr().exec(fU);const fX=r(fW, null)?"":j(fW, 1).toLowerCase();const fY=(do_1())[fX];const fZ=fY?fY:dp();fV.innerHTML=fZ[1]+fU.replace(dq(), "<$1></$2>")+fZ[2];function f0(f1, f2){ while(true){ if(f2===0)return f1;else { const f3=f2;f1=f1.lastChild;f2=f3-1;} } } return f0(fV, fZ[0]);} }
function dm(fU){ const fV=[];for(let fW=0, fX=fU.childNodes.length-1;fW<=fX;fW++)fV.push(fU.childNodes[fW]);return fV;}
function dn(){ return eR.rhtml;}
function do_1(){ return eR.wrapMap;}
function dp(){ return eR.defaultWrap;}
function dq(){ return eR.rxhtmlTag;}
function dr(){ return eR.rtagName;}
function ds(fU, fV, fW){ const fX=fU.querySelectorAll(fV);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)fW(fX[fY]);}
function dt(fU, fV){ const fW=globalThis.document.querySelectorAll(fU);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function du(fU, fV, fW){ let fX;if(fW.parentNode===fU){ const fY=fW.nextSibling;let fZ=r(fY, null)?null:fY;fX=fV===fZ;} else fX=false;if(!fX)fU.insertBefore(fW, fV);}
function dv(fU, fV){ if(fV.parentNode===fU)fU.removeChild(fV);}
function dw(){ return e("The input sequence has an insufficient number of elements.");}
function dx(fU, fV){ let fW=true;let fX=0;while(fW&&fX<m(fV))if(r(fV[fX], fU))fW=false;else fX=fX+1;return!fW;}
function dy(){ return e("The input must be non-negative.");}
let dz=fL((fU) => class fV extends h { static { dz=fU(this);} d;GetEnumerator(){ return cw(bs((fW) => fW.K, this.d));} constructor(fW){ super();this.d=fW;} });
function dA(){ return eG();}
function dB(fU){ const fV=null;return J(() => K(dD(() => { }, eH(fU)), () => { eI(fU);return L(null);}));}
function dC(fU, fV){ return dE(eT(fU.$0, fV.$0));}
function dD(fU, fV){ const fW=fV.Duration;if(fW===0)return T();else { const fX=(fY) => { function fZ(f0){ return(f1) => { const f2=f1-f0;fV.Compute(f2);fU();return f2<=fW?void requestAnimationFrame((f3) => {(fZ(f0))(f3);}):fY();};} requestAnimationFrame((f0) => {(fZ(f0))(f0);});};return S((fY, fZ, f0) => fX.apply(null, [fY, fZ, f0]));} }
function dE(fU){ return{$:0, $0:fU};}
function dF(fU){ return dE(eV(bs(eK, fU)));}
function dG(){ return dE(eW());}
function dH(){ return eO.BatchUpdatesEnabled;}
function dI(fU){ const fV=[0];function fW(){ const fX=null;return J(() => K(fU, () => { const fY=fV[0];return r(fY, 1)?(fV[0]=0,T()):r(fY, 2)?(fV[0]=1,fW()):T();}));} return() => { const fX=fV[0];if(r(fX, 0)){ fV[0]=1;M(fW(), null);} else r(fX, 1)?fV[0]=2:void 0;};}
function dJ(fU, fV, fW, fX){ const fY={DynElem:fU, DynFlags:fV, DynNodes:fW};fN(fY, "OnAfterRender", fX);return fY;}
function dK(fU){ let fV;const fW=fU.s;if(fW==null||(fW!=null&&fW.$==2?(fV=fW.$1,false):fW!=null&&fW.$==3?(fV=fW.$1,false):true))void 0;else { fU.s=null;for(let fY=0, fZ=m(fV)-1;fY<=fZ;fY++){ const fX=j(fV, fY);if(typeof fX=="object")(((f0) => { dK(f0);})(fX));else fX();} } }
function dL(fU, fV){ const fW=[];const fX=[];function fY(f1){ while(true){ if(!(f1===null)){ if(f1!=null&&f1.$==1)return fW.push(f1.$0);else if(f1!=null&&f1.$==2){ const f2=f1.$1;const f3=f1.$0;fY(f3);f1=f2;} else return f1!=null&&f1.$==3?f1.$0(fU):f1!=null&&f1.$==4?fX.push(f1.$0):null;} else return null;} } fY(fV);const fZ=fW.slice(0);let f0=dJ(fU, dO(fV), fZ, fX.length===0?null:X((f1) => { br((f2) => { f2(f1);}, fX);}));return f0;}
function dM(fU){ return eu((fV) => fV.NChanged, c6(), da, fU.DynNodes);}
function dN(fU){ return dJ(fU, 0, [], null);}
function dO(fU){ return fU!==null&&fU.hasOwnProperty("flags")?fU.flags:0;}
function dP(fU){ return ef.A3(fU);}
function dQ(fU, fV){ return ef.A1(new eX(fU, fV));}
function dR(){ return eZ.EmptyAttr;}
function dS(fU){ const fV=2;return(fU.DynFlags&fV)===fV;}
function dT(fU){ return dZ(fU, (fV, fW) => fV.NGetExitAnim(fW));}
function dU(fU){ const fV=1;return(fU.DynFlags&fV)===fV;}
function dV(fU){ return dZ(fU, (fV, fW) => fV.NGetEnterAnim(fW));}
function dW(fU){ const fV=4;return(fU.DynFlags&fV)===fV;}
function dX(fU){ return dZ(fU, (fV, fW) => fV.NGetChangeAnim(fW));}
function dY(fU, fV){ if(fU===null)return fV;else if(fV===null)return fU;else { const fW=ef.A2(fU, fV);d1(fW, dO(fU)|dO(fV));return fW;} }
function dZ(fU, fV){ return dF(bK((fW) => fV(fW, fU.DynElem), fU.DynNodes));}
function d0(fU, fV){ bI((fW) => { fW.NSync(fU);}, fV.DynNodes);}
function d1(fU, fV){ fU.flags=fV;}
let d2=fL((fU) => { fO(D);return class fV extends D { static { d2=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d3=fL((fU) => { fO(D);return class fV extends D { static { d3=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return ei(this.fillWith);} };});
let d4=fL((fU) => { fO(D);return class fV extends D { static { d4=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d5=fL((fU) => { fO(D);return class fV extends D { static { d5=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function d6(fU, fV){ return dP((fW) => { fW.addEventListener(fU, (fX) =>(fV(fW))(fX), false);});}
function d7(fU){ return ef.A4(fU);}
function d8(fU, fV){ return dQ(fV, (fW) =>(fX) => fW.setAttribute(fU, fX));}
function d9(fU){ return ed(fo(), fU);}
function d_(fU){ return ed(fp(), fU);}
function d$(fU){ return ed(fq(), fU);}
function ea(fU){ return ed(fr(), fU);}
function eb(fU){ return ed(fs(), fU);}
function ec(fU){ return ed(ft(), fU);}
function ed(fU, fV){ const fW=fU(fV);return ef.Append(dP(fW[0]), ee(fW[1], fW[2]));}
function ee(fU, fV){ return dQ(fV, fU);}
let ef=fL((fU) => class fV { static { ef=fU(this);} static Handler(fW, fX){ return ef.HandlerImpl(fW, fX);} static Concat(fW){ const fX=ev(fW);return et(dR(), ef.Append, fX);} static Create(fW, fX){ return dP((fY) => { fY.setAttribute(fW, fX);});} static HandlerImpl(fW, fX){ return dP((fY) => { fY.addEventListener(fW, (fZ) =>(fX(fY))(fZ), false);});} static Append(fW, fX){ return dY(fW, fX);} static A4(fW){ return fS(fV, {$:4, $0:fW});} static A3(fW){ return fS(fV, {$:3, $0:fW});} static A1(fW){ return fS(fV, {$:1, $0:fW});} static A2(fW, fX){ return fS(fV, {$:2, $0:fW, $1:fX});} });
let eg=fL((fU) => { fO(D);return class fV extends D { static { eg=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let eh=fL((fU) => { fO(D);return class fV extends D { static { eh=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function ei(fU){ return{$:0, $0:fU};}
function ej(fU){ return{$:1, $0:fU};}
let ek=fL((fU) => class fV { static { ek=fU(this);} static Cons(fW, fX){ return fS(fV, {$:1, $0:fW, $1:fX});} static Empty=fS(ek, {$:0});GetEnumerator(){ return new cA(this, null, (fW) => { const fX=fW.s;return fX.$==0?false:(fW.c=fX.$0,fW.s=fX.$1,true);}, void 0);} });
function el(fU, fV){ return bM(fV).join(fU);}
function em(fU, fV, fW){ return eo(fU, new RegExp("["+ep(fV.join(""))+"]"), fW);}
function en(fU, fV){ return fU.substring(0, fV.length)==fV;}
function eo(fU, fV, fW){ return fW===1?bL((fX) => fX!=="", eq(fU, fV)):eq(fU, fV);}
function ep(fU){ return fU.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eq(fU, fV){ return fU.split(fV);}
function er(fU, fV){ return bB(fU, es(fV));}
function es(fU){ return fU==null?"":fU;}
function et(fU, fV, fW){ const fX=m(fW);function fY(fZ){ return(f0) => { let f1;switch(f0<=0?0:f0===1?fZ>=0&&fZ<fX?1:(f1=f0,2):(f1=f0,2)){ case 0:return fU;case 1:return j(fW, fZ);case 2:const f2=f0/2>>0;return fV((fY(fZ))(f2), (fY(fZ+f2))(f0-f2));} };} return(fY(0))(fX);}
function eu(fU, fV, fW, fX){ const fY=m(fX);function fZ(f0){ return(f1) => { let f2;switch(f1<=0?0:f1===1?f0>=0&&f0<fY?1:(f2=f1,2):(f2=f1,2)){ case 0:return fV;case 1:return fU(j(fX, f0));case 2:const f3=f1/2>>0;return fW((fZ(f0))(f3), (fZ(f0+f3))(f1-f3));} };} return(fZ(0))(fY);}
function ev(fU){ if(fU instanceof Array)return fU;else if(fU instanceof ek)return bO(fU);else if(fU===null)return[];else { const fV=[];const fW=cw(fU);try { while(fW.MoveNext())fV.push(fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } }
let ew=fL((fU) => class fV { static { ew=fU(this);} c;s;v;static Create(fW){ let fX;fX=null;fX=ew.New(fW, null, () => { let fY;fY=fX.s;return fY===null?(fY=cb(fX.c()),fX.s=fY,cc(fY, () => { fX.s=null;}),fY):fY;});return fX;} static New(fW, fX, fY){ return fS(ew, {c:fW, s:fX, v:fY});} });
let ex=fL((fU) => class fV extends h { static { ex=fU(this);} d;GetEnumerator(){ return cw(bs((fW) => fW.V, this.d));} constructor(fW){ super();this.d=fW;} });
function ey(fU, fV){ return{PreviousNodes:fU, Top:fV};}
function ez(){ return eB(new bn("New_3"));}
function eA(fU){ const fV=[];function fW(fZ, f0){ while(true)switch(fZ){ case 0:if(f0!=null&&f0.$==0){ const f1=f0.$1;const f2=f0.$0;fW(0, f2);f0=f1;} else if(f0!=null&&f0.$==1){ const f3=f0.$0;f0=f3;fZ=1;} else if(f0!=null&&f0.$==2){ const f4=f0.$0;f0=f4.Current;} else if(f0!=null&&f0.$==6){ const f5=f0.$0.Holes;return(((f6) =>(f7) => { bI(f6, f7);})(fY))(f5);} else return null;break;case 1:fV.push(f0);f0=f0.Children;fZ=0;break;} } function fX(fZ){ return fW(0, fZ);} function fY(fZ){ return fW(1, fZ);} fX(fU);return eB(new bn("New_2", fV));}
function eB(fU){ return{$:0, $0:fU};}
function eC(fU, fV){ return eB(e1(fU, fV.$0));}
function eD(fU, fV){ return eB(e2(fU.$0, fV.$0));}
function eE(fU){ return e3(fU.$0);}
function eF(fU, fV){ return eB(e4(fU.$0, fV.$0));}
function eG(){ return eS.UseAnimations;}
function eH(fU){ return eJ(bD((fV) => fV.$==1?X(fV.$0):null, eU(fU.$0)));}
function eI(fU){ bI((fV) => { if(fV.$==0)fV.$0();}, eU(fU.$0));}
function eJ(fU){ const fV=ev(fU);const fW=m(fV);if(fW===0)return eL();else if(fW===1)return j(fV, 0);else { const fX=bv(bs((fZ) => fZ.Duration, fV));const fY=bK((fZ) => eN(fX, fZ), fV);return eM(fX, (fZ) => { bI((f0) => { f0.Compute(fZ);}, fY);});} }
function eK(fU){ return fU.$0;}
function eL(fU){ return eM(0, () => fU);}
function eM(fU, fV){ return{Compute:fV, Duration:fU};}
function eN(fU, fV){ const fW=fV.Compute;const fX=fV.Duration;const fY=fE(() => fV.Compute(fV.Duration));return{Compute:(fZ) => fZ>=fX?fY.f():fW(fZ), Duration:fU};}
let eO=fL((fU) => class fV { static { eO=fU(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eP(fU){ let fV=[];let fW;for(var fX in fU)fV.push.apply(fV, fU[fX]);return fV;}
let eQ=fL((fU) => class fV { static { eQ=fU(this);} static counter;static { this.counter=0;} });
let eR=fL((fU) => class fV { static { eR=fU(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fW=[1, "<table>", "</table>"];let fX=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fW], ["tbody", fW], ["tfoot", fW], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fX;this.defaultWrap=[0, "", ""];} });
let eS=fL((fU) => class fV { static { eS=fU(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e0.Custom((fW) => { const fX=fW*fW;return 3*fX-2*(fX*fW);});this.UseAnimations=true;} });
function eT(fU, fV){ return fU.$==0?fV:fV.$==0?fU:{$:2, $0:fU, $1:fV};}
function eU(fU){ const fV=[];function fW(fX){ while(true){ if(fX.$==1)return fV.push(fX.$0);else if(fX.$==2){ const fY=fX.$1;const fZ=fX.$0;fW(fZ);fX=fY;} else return fX.$==3?bI((f0) => { fV.push(f0);}, fX.$0):null;} } fW(fU);return fV.slice(0);}
function eV(fU){ const fV=ev(fU);return et(eW(), eT, fV);}
function eW(){ return fH.Empty;}
let eX=fL((fU) => class fV extends h { static { eX=fU(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fW){ return dG();} NGetEnterAnim(fW){ return dG();} NGetChangeAnim(fW){ return dG();} NSync(fW){ if(this.dirty){(this.push(fW))(this.value);this.dirty=false;} } constructor(fW, fX){ super();this.push=fX;this.value=void 0;this.dirty=false;this.updates=c8((fY) => { this.value=fY;this.dirty=true;}, fW);} });
let eY=fL((fU) => { fO(Error);return class fV extends Error { static { eY=fU(this);} static New(){ return new this("New");} static New_1(fW){ return new this("New_1", fW);} constructor(fW, fX){ if(fW=="New"){ fW="New_1";fX="The given key was not present in the dictionary.";} if(fW=="New_1"){ const fY=fX;super(fY);} } };});
let eZ=fL((fU) => class fV { static { eZ=fU(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(ga) =>[(gb) => { gb.addEventListener("change", () => ga.Get()!=gb.checked?ga.Set(gb.checked):null);}, (gb) =>(gc) => gc!=null&&gc.$==1?void(gb.checked=gc.$0):null, c8(X, ga.View)];this.StringSet=(ga) =>(gb) => { ga.value=gb;};this.StringGet=(ga) => X(ga.value);const fW=e_();const fX=e9();this.StringApply=(ga) => e8(fW, fX, ga);this.StringListSet=(ga) =>(gb) => { const gc=ga.options;for(let gd=0, ge=gc.length-1;gd<=ge;gd++)((() => { const gf=gc.item(gd);gf.selected=dx(gf.value, gb);})());};this.StringListGet=(ga) => { const gb=ga.selectedOptions;return X(bM(bt(() => bu((gc) =>[gb.item(gc).value], g(0, gb.length-1)))));};const fY=fa();const fZ=e$();this.StringListApply=(ga) => e8(fY, fZ, ga);this.DateTimeSetUnchecked=(ga) =>(gb) => { ga.value=(new Date(gb)).toLocaleString();};this.DateTimeGetUnchecked=(ga) => { let gb;let gc;const gd=ga.value;if(fu(gd))return X(-8640000000000000);else { gb=0;const ge=fC(gd);let gf=ge!=null&&ge.$==1&&(gb=ge.$0,true);gc=[gf, gb];return gc[0]?X(gc[1]):null;} };const f0=fc();const f1=fb();this.DateTimeApplyUnchecked=(ga) => e8(f0, f1, ga);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(ga) => { const gb=ga.files;return X(bM(bt(() => bs((gc) => gb.item(gc), g(0, gb.length-1)))));};const f2=ff();const f3=fe();this.FileApplyUnchecked=(ga) => fd(f2, f3, ga);this.IntSetUnchecked=(ga) =>(gb) => { ga.value=String(gb);};this.IntGetUnchecked=(ga) => { const gb=ga.value;if(fu(gb))return X(0);else { const gc=+gb;return gc!==gc>>0?null:X(gc);} };const f4=fh();const f5=fg();this.IntApplyUnchecked=(ga) => e8(f4, f5, ga);this.IntSetChecked=(ga) =>(gb) => { const gc=gb.Input;return ga.value!=gc?void(ga.value=gc):null;};this.IntGetChecked=(ga) => { let gb;let gc;const gd=ga.value;if(fu(gd))gb=(ga.checkValidity?ga.checkValidity():true)?fv.Blank(gd):fv.Invalid(gd);else { const ge=(gc=0,[b5(gd, {get:() => gc, set:(gf) => { gc=gf;}}), gc]);gb=ge[0]?fv.Valid(ge[1], gd):fv.Invalid(gd);} return X(gb);};const f6=fj();const f7=fi();this.IntApplyChecked=(ga) => e8(f6, f7, ga);this.FloatSetUnchecked=(ga) =>(gb) => { ga.value=String(gb);};this.FloatGetUnchecked=(ga) => { const gb=ga.value;if(fu(gb))return X(0);else { const gc=+gb;return isNaN(gc)?null:X(gc);} };const f8=fl();const f9=fk();this.FloatApplyUnchecked=(ga) => e8(f8, f9, ga);this.FloatSetChecked=(ga) =>(gb) => { const gc=gb.Input;return ga.value!=gc?void(ga.value=gc):null;};this.FloatGetChecked=(ga) => { let gb;const gc=ga.value;if(fu(gc))gb=(ga.checkValidity?ga.checkValidity():true)?fv.Blank(gc):fv.Invalid(gc);else { const gd=+gc;gb=isNaN(gd)?fv.Invalid(gc):fv.Valid(gd, gc);} return X(gb);};const f_=fn();const f$=fm();this.FloatApplyChecked=(ga) => e8(f_, f$, ga);} });
let e0=fL((fU) => class fV extends h { static { e0=fU(this);} transformTime;static Custom(fW){ return new fV(fW);} constructor(fW){ super();this.transformTime=fW;} });
function e1(fU, fV){ return new bn("New_2", bL(fU, e3(fV)));}
function e2(fU, fV){ const fW=new bn("New_2", e3(fV));fW.ExceptWith(e3(fU));return fW;}
function e3(fU){ const fV=bQ(fU.Count, void 0);fU.CopyTo(fV, 0);return fV;}
function e4(fU, fV){ const fW=new bn("New_2", e3(fU));fW.IntersectWith(e3(fV));return fW;}
function e5(fU){ return fU.$==1?fU.$0:e7();}
function e6(fU){ return fU.$==1?fU.$1:e7();}
function e7(){ return e("The input list was empty.");}
function e8(fU, fV, fW){ let fX;fX=null;return[(fY) => { const fZ=() => { fW.UpdateMaybe((f0) => { let f1;fX=fU(fY);return fX!=null&&fX.$==1&&(!r(fX.$0, f0)&&(f1=[fX, fX.$0],true))?f1[0]:null;});};fY.addEventListener("change", fZ);fY.addEventListener("input", fZ);fY.addEventListener("keypress", fZ);}, (fY) => { const fZ=fV(fY);return(f0) => f0==null?null:fZ(f0.$0);}, c8((fY) => { let fZ;return fX!=null&&fX.$==1&&(r(fX.$0, fY)&&(fZ=fX.$0,true))?null:X(fY);}, fW.View)];}
function e9(){ return eZ.StringSet;}
function e_(){ return eZ.StringGet;}
function e$(){ return eZ.StringListSet;}
function fa(){ return eZ.StringListGet;}
function fb(){ return eZ.DateTimeSetUnchecked;}
function fc(){ return eZ.DateTimeGetUnchecked;}
function fd(fU, fV, fW){ let fX;fX=null;return[(fY) => { fY.addEventListener("change", () => { fW.UpdateMaybe((fZ) => { let f0;fX=fU(fY);return fX!=null&&fX.$==1&&(fX.$0!==fZ&&(f0=[fX, fX.$0],true))?f0[0]:null;});});}, (fY) => { const fZ=fV(fY);return(f0) => f0==null?null:fZ(f0.$0);}, c8((fY) => { let fZ;return fX!=null&&fX.$==1&&(r(fX.$0, fY)&&(fZ=fX.$0,true))?null:X(fY);}, fW.View)];}
function fe(){ return eZ.FileSetUnchecked;}
function ff(){ return eZ.FileGetUnchecked;}
function fg(){ return eZ.IntSetUnchecked;}
function fh(){ return eZ.IntGetUnchecked;}
function fi(){ return eZ.IntSetChecked;}
function fj(){ return eZ.IntGetChecked;}
function fk(){ return eZ.FloatSetUnchecked;}
function fl(){ return eZ.FloatGetUnchecked;}
function fm(){ return eZ.FloatSetChecked;}
function fn(){ return eZ.FloatGetChecked;}
function fo(){ return eZ.StringApply;}
function fp(){ return eZ.FloatApplyUnchecked;}
function fq(){ return eZ.BoolCheckedApply;}
function fr(){ return eZ.DateTimeApplyUnchecked;}
function fs(){ return eZ.FileApplyUnchecked;}
function ft(){ return eZ.StringListApply;}
function fu(fU){ return er(fB, fU);}
let fv=fL((fU) => class fV { static { fv=fU(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fW){ return fS(fV, {$:2, $0:fW});} static Invalid(fW){ return fS(fV, {$:1, $0:fW});} static Valid(fW, fX){ return fS(fV, {$:0, $0:fW, $1:fX});} });
function fw(fU, fV){ let fW;if(fV!=null&&fV.$==1){ const fX=[];fW=fV.$0[0].nextSibling;while(fW!==fV.$0[1]){ fX.push(fW);fW=fW.nextSibling;} return fA(fX);} else { let fY=fU.childNodes.length;const fZ=fU.childNodes;let f0=bR(fY, (f1) => fZ[f1]);return fA(f0);} }
function fx(fU, fV){ const fW=fU.$0;return fA(bL((fX) => bP((fY) =>!(fX===fY), fW), fV.$0));}
function fy(fU, fV){ bI(fU, fV.$0);}
function fz(fU){ const fV=[];function fW(fX){ while(true){ if(fX!=null&&fX.$==2){ const fY=fX.$0;fX=fY.Current;} else if(fX!=null&&fX.$==1)return fV.push(fX.$0.El);else if(fX==null)return null;else if(fX!=null&&fX.$==5)return fV.push(fX.$0);else if(fX!=null&&fX.$==4)return fV.push(fX.$0.Text);else if(fX!=null&&fX.$==6){ const fZ=fX.$0.Els;return(((f2) =>(f3) => { bI(f2, f3);})((f2) => { if(f2==null||f2.constructor===Object)fW(f2);else fV.push(f2);}))(fZ);} else { const f0=fX.$1;const f1=fX.$0;fW(f1);fX=f0;} } } fW(fU.Children);return fA(ev(fV));}
function fA(fU){ return{$:0, $0:fU};}
function fB(fU){ return fU.match(new RegExp("\\s"))!==null;}
function fC(fU){ const fV=Date.parse(fU);return isNaN(fV)?null:X(fV);}
function fD(fU, fV, fW, fX){ const fY=+fU;const fZ=fY===fY-fY%1&&fY>=fV&&fY<=fW;if(fZ)fX.set(fY);return fZ;}
function fE(fU){ return fJ(false, fU, fF);}
function fF(){ const fU=this.v();this.c=true;this.v=fU;this.f=fG;return fU;}
function fG(){ return this.v;}
let fH=fL((fU) => class fV { static { fH=fU(this);} static Empty;static { this.Empty={$:0};} });
function fI(fU){ fU.splice(0, m(fU));}
function fJ(fU, fV, fW){ return{c:fU, v:fV, f:fW};}
fT(() => { b();});
fK();

